<app-post
  [post]="post"
  [postContext]="postContext.PostPage"
  [user]="user"
  *ngIf="post && pageState === postPageState.Default"
  (editPost)="onEditPost()"
></app-post>

<app-add-item
  (cancelEditItem)="onCancelPostEdit()"
  *ngIf="pageState === postPageState.EditPost"
  [addItem]="editItemPost"
></app-add-item>

<app-add-item
  (cancelEditItem)="onCancelCommentEdit()"
  *ngIf="pageState === postPageState.Default && user"
  [addItem]="editItemComment"
></app-add-item>

<div
  infiniteScroll
  (scrolled)="onScrollDown()"
  [scrollWindow]="false"
  infiniteScrollContainer=".infinite-scroll"
  [fromRoot]="true"
>
  <ng-container *ngFor="let item of comments">
    <app-comment
      *ngIf="post"
      [comment]="item"
      [user]="user"
      (editComment)="onEditComment($event)"
      [postContext]="postContext.PostPage"
      [postAuthorId]="post.authorId"
    ></app-comment>
  </ng-container>
</div>
